/* تم لایت کامل */
[data-theme="light"] {
    --bg: #f8f9fc;
    --card-bg: rgba(255,255,255,0.75);
    --glass: rgba(255,255,255,0.6);
    --glass-strong: rgba(255,255,255,0.85);
    --glass-border: rgba(0,0,0,0.08);
    --text-primary: #1a1a1a;
    --text-secondary: #333333;
    --text-muted: #666666;
    --primary: #0066ff;
    --accent: #9c27b0;
    --success: #00c853;
    --danger: #ff1744;
    --warning: #ff9100;
}

/* تم دارک خالص */
[data-theme="dark"] {
    --bg: #000000;
    --card-bg: rgba(15,15,25,0.8);
    --glass: rgba(255,255,255,0.05);
    --glass-strong: rgba(255,255,255,0.12);
    --glass-border: rgba(255,255,255,0.1);
    --text-primary: #ffffff;
    --text-secondary: #cccccc;
    --text-muted: #888888;
}

/* افکت‌های شیشه‌ای پیشرفته */
.glass-card, .ios-btn, .bottom-nav {
    box-shadow: 0 8px 32px rgba(0,0,0,0.37);
    transition: all 0.4s cubic-bezier(0.25,0.8,0.25,1);
}
.glass-card:hover, .ios-btn:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
}

/* انیمیشن ورود صفحه */
@keyframes slideUp {
    from { transform: translateY(100px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
.page {
    animation: slideUp 0.6s ease-out forwards;
}

/* اسکرول نرم */
html {
    scroll-behavior: smooth;
}

/* ریسپانسیو کامل */
@media (max-width: 480px) {
    .container { padding: 0 8px; margin: 0; }
    .glass-card { margin: 12px 8px; padding: 20px; border-radius: 24px; }
    .logo { font-size: 32px; }
    #convertResult { font-size: 32px; padding: 28px; }
    .bottom-nav { padding: 10px 0 24px; }
    .nav-item i { font-size: 24px; }
}

/* افکت کلیک iOS واقعی */
.ios-btn:active, .nav-item:active {
    transform: scale(0.94);
    transition: transform 0.1s;
}

/* حالت تاریک سیستم */
@media (prefers-color-scheme: dark) {
    [data-theme="neox"] {
        filter: brightness(0.95);
    }
}

/* مخفی کردن اسکرول‌بار ولی فعال نگه داشتن اسکرول */
#marketList, #transactionList, #nftGrid {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
#marketList::-webkit-scrollbar, #transactionList::-webkit-scrollbar, #nftGrid::-webkit-scrollbar {
    display: none;
}

/* افکت gradient متحرک در هدر */
.glass-header::before {
    content: '';
    position: absolute;
    top: 0; left: -100%;
    width: 100%; height: 4px;
    background: linear-gradient(90deg, transparent, var(--primary), var(--accent), transparent);
    animation: shimmer 3s infinite;
}
@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* حالت فوکوس برای اینپوت‌ها */
input:focus, #marketSearch:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(0,212,255,0.3);
    transform: scale(1.02);
    transition: all 0.3s;
}
/* اسکلتون لودینگ برای سرعت بصری بیشتر */
.skeleton {
    background: linear-gradient(90deg, #111 25%, #1a1a1a 50%, #111 75%);
    background-size: 200% 100%;
    animation: skeletonLoading 1.8s infinite;
    border-radius: 20px;
}
@keyframes skeletonLoading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* افکت پارالاکس ملایم در پس‌زمینه */
body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(circle at 50% 50%, rgba(0,212,255,0.08) 0%, transparent 70%);
    pointer-events: none;
    z-index: -1;
    animation: pulseGlow 8s infinite alternate;
}
@keyframes pulseGlow {
    0% { opacity: 0.4; transform: scale(1); }
    100% { opacity: 0.8; transform: scale(1.1); }
}

/* حالت شب واقعی (حذف نور آبی) */
@media (prefers-color-scheme: dark) {
    [data-theme="neox"] {
        filter: hue-rotate(10deg) brightness(0.92) contrast(1.1);
    }
}

/* انیمیشن ورود والت‌ها */
#walletGrid > div {
    animation: walletPop 0.6s ease-out forwards;
    opacity: 0;
    transform: translateY(40px) scale(0.8);
}
#walletGrid > div:nth-child(1) { animation-delay: 0.1s; }
#walletGrid > div:nth-child(2) { animation-delay: 0.2s; }
#walletGrid > div:nth-child(3) { animation-delay: 0.3s; }
#walletGrid > div:nth-child(4) { animation-delay: 0.4s; }
@keyframes walletPop {
    to { opacity: 1; transform: translateY(0) scale(1); }
}

/* افکت کلیک با ویبره و هپتیک */
.haptic-click {
    transition: transform 0.1s;
}
.haptic-click:active {
    transform: scale(0.92);
    animation: hapticPulse 0.4s;
}
@keyframes hapticPulse {
    0% { box-shadow: 0 0 0 0 rgba(0,212,255,0.7); }
    70% { box-shadow: 0 0 0 20px rgba(0,212,255,0); }
    100% { box-shadow: 0 0 0 0 rgba(0,212,255,0); }
}

/* انیمیشن ورود NFTها */
#nftGrid > div {
    animation: nftFloatIn 0.8s ease-out forwards;
    opacity: 0;
    transform: translateY(60px) rotate(5deg);
}
@keyframes nftFloatIn {
    to { opacity: 1; transform: translateY(0) rotate(0); }
}

/* افکت تایپ برای تبدیل سریع */
#typewriter {
    overflow: hidden;
    border-right: 3px solid var(--primary);
    white-space: nowrap;
    animation: typing 3s steps(30) infinite, blink 0.7s infinite;
}
@keyframes typing {
    0% { width: 0; }
    50% { width: 100%; }
    100% { width: 0; }
}
@keyframes blink {
    0%, 100% { border-color: transparent; }
    50% { border-color: var(--primary); }
}

/* افکت نئون برای لوگو */
.logo {
    animation: neonGlow 4s infinite alternate;
    text-shadow: 
        0 0 10px var(--primary),
        0 0 20px var(--primary),
        0 0 40px var(--primary),
        0 0 80px var(--primary);
}
@keyframes neonGlow {
    0% { text-shadow: 0 0 10px var(--primary); }
    100% { text-shadow: 0 0 30px var(--primary), 0 0 60px var(--accent); }
}

/* اسکرول انیمیشن برای کارت‌ها */
.glass-card {
    opacity: 0;
    transform: translateY(50px);
    animation: cardReveal 0.8s ease-out forwards;
}
@keyframes cardReveal {
    to { opacity: 1; transform: translateY(0); }
}
